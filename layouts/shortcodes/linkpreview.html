{{ $url := .Get "url" }}
{{ $parsed := urls.Parse $url }}
{{ $host := $parsed.Host }}
{{ $cleanHost := replace $host "www." "" }}
<!-- Link Card -->
<div class="link-entry">
  <div class="link-preview">
    <a href="{{ $url }}" class="link-thumbnail-wrapper" target="_blank" rel="noopener">
      <img class="link-thumbnail" src="{{ .Get "image" }}" alt="{{ .Get "title" }} thumbnail">
    </a>
    <div class="link-meta">
      <a href="{{ $url }}" class="link-title" target="_blank" rel="noopener">{{ .Get "title" }}</a>
      <div class="link-description">{{ .Get "description" | markdownify | safeHTML }}</div>
      <div class="link-footer">
        <span class="link-url">
          <a href="{{ $url }}" target="_blank" rel="noopener" style="display: inline-flex; align-items: center; gap: 0.25rem; text-decoration: none; color: inherit;">
            {{ $cleanHost }}
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" height="10" width="10">
              <g stroke="currentColor" stroke-width="1.5">
                <path d="M12 5H2v17h17V12" />
                <path d="M10 14 22 2" />
                <path d="M14 2h8v8" />
              </g>
            </svg>
          </a>
        </span>
        {{ if .Get "date" }}
        <span class="link-date">{{ .Get "date" }}</span>
        {{ end }}
      </div>
    </div>
  </div>
</div>